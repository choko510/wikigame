# Wikipediaゲーム

これは、ランダムな開始WikipediaページからターゲットのWikipediaページまでを移動する、マルチプレイヤーWikipediaゲームです。

## 特徴

- リアルタイムマルチプレイヤーゲームプレイ
- ランダムな開始ページとターゲットページ
- Wikipediaコンテンツをゲーム内に表示するためのページプロキシ
- さまざまなゲームモード（ナビゲーション、推測）
- ルーム作成と管理
- プレイヤーの準備完了ステータス
- カスタマイズ可能なルーム設定（例：Ctrl+Fの許可）

## 技術スタック

- Python
- Flask
- Flask-SocketIO
- HTML, CSS, JavaScript

## セットアップ

1.  リポジトリをクローンします:
    ```bash
    git clone <リポジトリURL>
    cd wikigame
    ```

2.  仮想環境を作成し、アクティベートします:
    ```bash
    python -m venv venv
    # Windowsの場合
    venv\Scripts\activate
    # macOS/Linuxの場合
    source venv/bin/activate
    ```

3.  依存関係をインストールします:
    ```bash
    pip install -r requirements.txt
    ```

4.  アプリケーションを実行します:
    ```bash
    python main.py
    ```

5.  ブラウザを開き、シングルプレイヤー版の場合は `http://127.0.0.1:5500/` 、マルチプレイヤー版の場合は `http://127.0.0.1:5500/multiplayer` にアクセスします。

## 遊び方

### シングルプレイヤー
-   メインページにアクセスします。
-   ランダムなWikipediaページが読み込まれます。
-   Wikipediaのリンクをたどってターゲットページ（デフォルト：「日本」）に到達してください。
-   ターゲットに到達するとゲームが通知します。

### マルチプレイヤー
1.  マルチプレイヤーページにアクセスします。
2.  **ルームを作成:**
    -   ユーザー名を入力し、「Create Room」をクリックします。
    -   ルームIDを他のプレイヤーと共有します。
    -   ホストとして、ターゲットのWikipedia URLやルーム設定（例：Ctrl+Fの許可、ゲームモード）を設定できます。
3.  **ルームに参加:**
    -   ユーザー名とルームIDを入力し、「Join Room」をクリックします。
    -   または、利用可能なルームのリストから選択します。
4.  **準備完了:**
    -   「Ready」ボタンをクリックします。
5.  **ゲーム開始:**
    -   すべてのプレイヤーが準備完了し、2人以上のプレイヤーがいる場合、ホストは「Start Game」をクリックできます。
6.  **ゲームプレイ:**
    -   すべてのプレイヤーは同じランダムなWikipediaページから開始します。
    -   リンクをたどってターゲットページに到達してください。
    -   ゲームはあなたの移動回数を記録します。
    -   **ナビゲーションモード:** ページの内容が表示されます。
    -   **推測モード:** ページのタイトルとテキスト内のタイトルの出現箇所が隠されます。内容に基づいてページタイトルを推測してください。
    -   ホストによってCtrl+Fが禁止されている場合、使用すると脱落となります。
7.  **勝利:**
    -   最初にターゲットページに到達したプレイヤーが勝利します。
    -   順位、移動回数、所要時間が表示されます。
8.  **再戦:**
    -   ホストはルームをリセットして、同じプレイヤーで別のゲームをプレイできます。

## プロジェクト構成

```
wikigame/
├── main.py               # FlaskアプリケーションとSocketIOロジック
├── requirements.txt      # Pythonの依存関係
├── templates/
│   ├── wikipedia_game.html # シングルプレイヤーゲームページ
│   └── multiplayer.html    # マルチプレイヤーゲームページ
├── static/                 # (オプション: CSS、JSファイルを分離する場合)
└── README.md             # このファイル
```